# GraalVM native-image configuration
# Fixes: "Module org.graalvm.nativeimage.foreign does not read a module that exports jdk.graal.compiler.nodes.graphbuilderconf"
# This occurs in Java 21+ due to stricter module encapsulation

[build]
Args=\
    --no-fallback,\
    --enable-all-security-services,\
    --report-unsupported-elements-at-runtime,\
    --add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes.graphbuilderconf=ALL-UNNAMED,\
    --add-exports=jdk.graal.compiler/jdk.graal.compiler.nodes=ALL-UNNAMED,\
    --add-exports=jdk.graal.compiler/jdk.graal.compiler.api=ALL-UNNAMED,\
    --add-exports=jdk.graal.compiler/jdk.graal.compiler.util=ALL-UNNAMED,\
    --add-exports=jdk.graal.compiler/jdk.graal.compiler.word=ALL-UNNAMED

